# CSDL Cá» Äá» THPTS2BT - Há»‡ Thá»‘ng Quáº£n LÃ½ Ná»n Náº¿p Há»c Sinh

## ğŸ“‹ Tá»•ng Quan

**CSDL Cá» Äá» THPTS2BT** lÃ  má»™t ná»n táº£ng quáº£n lÃ½ ná»n náº¿p há»c sinh hiá»‡n Ä‘áº¡i, Ä‘Æ°á»£c thiáº¿t káº¿ Ä‘áº·c biá»‡t cho trÆ°á»ng THPT Sá»‘ 2 Báº£o Tháº¯ng. Há»‡ thá»‘ng sá»­ dá»¥ng cÃ´ng nghá»‡ tiÃªn tiáº¿n vá»›i:

- **Backend**: Convex - ná»n táº£ng database thá»i gian thá»±c
- **Frontend**: Vite + React vá»›i giao diá»‡n hiá»‡n Ä‘áº¡i, responsive
- **LÆ°u trá»¯ file**: Cloudflare R2 cho áº£nh báº±ng chá»©ng vi pháº¡m
- **AI Integration**: Groq API Ä‘á»ƒ há»— trá»£ xá»­ lÃ½ dá»¯ liá»‡u thÃ´

## âœ¨ TÃ­nh NÄƒng Ná»•i Báº­t

### ğŸ” 1. Há»‡ Thá»‘ng XÃ¡c Thá»±c Äa Cáº¥p
- **ÄÄƒng nháº­p an toÃ n** vá»›i Convex Auth
- **PhÃ¢n quyá»n chi tiáº¿t**: Admin, Quáº£n lÃ½ khá»‘i, NgÆ°á»i dÃ¹ng chá» duyá»‡t
- **Chuyá»ƒn Ä‘á»•i vai trÃ² linh hoáº¡t** cho Admin

### ğŸ“Š 2. Quáº£n LÃ½ Vi Pháº¡m ThÃ´ng Minh
- **Ghi nháº­n vi pháº¡m** theo danh má»¥c chuáº©n hÃ³a
- **Há»— trá»£ AI nháº­p liá»‡u**: Tá»± Ä‘á»™ng chuáº©n hÃ³a dá»¯ liá»‡u thÃ´ tá»« vÄƒn báº£n
- **Upload báº±ng chá»©ng**: Há»— trá»£ áº£nh vÃ  video, tá»± Ä‘á»™ng nÃ©n áº£nh
- **PhÃ¢n loáº¡i vi pháº¡m**: Theo há»c sinh hoáº·c theo lá»›p
- **TÃ­nh Ä‘iá»ƒm trá»« tá»± Ä‘á»™ng** theo quy Ä‘á»‹nh

### ğŸ“ˆ 3. BÃ¡o CÃ¡o VÃ  Thá»‘ng KÃª
- **Báº£ng Ä‘iá»ƒm thi Ä‘ua**: Theo dÃµi Ä‘iá»ƒm cÃ¡c lá»›p theo tuáº§n/thÃ¡ng
- **BÃ¡o cÃ¡o vi pháº¡m**: Chi tiáº¿t theo thá»i gian, lá»›p, cÃ¡ nhÃ¢n
- **Xuáº¥t Excel**: BÃ¡o cÃ¡o cÃ³ Ä‘á»‹nh dáº¡ng Ä‘áº¹p, sáºµn sÃ ng in
- **Trang cÃ´ng khai**: Cho phÃ©p xem Ä‘iá»ƒm vÃ  vi pháº¡m khÃ´ng cáº§n Ä‘Äƒng nháº­p

### ğŸ‘¥ 4. Quáº£n LÃ½ Há»c Sinh
- **Danh sÃ¡ch lá»›p**: Quáº£n lÃ½ 24 lá»›p (10A1 â†’ 12A8)
- **TÃ¬m kiáº¿m thÃ´ng minh**: TÃ¬m há»c sinh theo tÃªn, lá»›p
- **Import danh sÃ¡ch**: Tá»« file Excel vá»›i template cÃ³ sáºµn
- **Theo dÃµi ná»n náº¿p**: Lá»‹ch sá»­ vi pháº¡m cá»§a tá»«ng há»c sinh

### ğŸ“… 5. Quáº£n LÃ½ Thá»i Gian
- **Lá»c theo tuáº§n**: Tá»± Ä‘á»™ng xÃ¡c Ä‘á»‹nh tuáº§n hiá»‡n táº¡i
- **Lá»c theo thÃ¡ng**: Xem bÃ¡o cÃ¡o thÃ¡ng cá»¥ thá»ƒ
- **Khoáº£ng thá»i gian tÃ¹y chá»‰nh**: Linh hoáº¡t chá»n ngÃ y báº¯t Ä‘áº§u - káº¿t thÃºc
- **MÃºi giá» Viá»‡t Nam**: Tá»± Ä‘á»™ng Ä‘iá»u chá»‰nh theo giá» Ä‘á»‹a phÆ°Æ¡ng

### ğŸ”„ 6. Cáº­p Nháº­t Tá»± Äá»™ng
- **Real-time sync**: Dá»¯ liá»‡u cáº­p nháº­t ngay láº­p tá»©c
- **Auto-refresh**: KhÃ´ng cáº§n F5 Ä‘á»ƒ xem dá»¯ liá»‡u má»›i
- **Caching thÃ´ng minh**: Tá»‘i Æ°u hiá»‡u suáº¥t

### ğŸŒ 7. Trang CÃ´ng Khai
- **Báº£ng Ä‘iá»ƒm thi Ä‘ua**: Xem Ä‘iá»ƒm cÃ¡c lá»›p theo tuáº§n
- **BÃ¡o cÃ¡o vi pháº¡m**: CÃ´ng khai danh sÃ¡ch vi pháº¡m
- **Xin phÃ©p**: Form xin phÃ©p nghá»‰ há»c online
- **Xem báº±ng chá»©ng**: Truy cáº­p áº£nh/video vi pháº¡m

## ğŸ¯ HÆ°á»›ng Dáº«n Sá»­ Dá»¥ng Chi Tiáº¿t

### I. CHO ADMIN (Quáº£n Trá»‹ ViÃªn)

#### 1. Dashboard Tá»•ng Quan
- **Xem thá»‘ng kÃª nhanh**: Tá»•ng sá»‘ vi pháº¡m, há»c sinh, lá»›p
- **Theo dÃµi tÃ¬nh hÃ¬nh**: Biá»ƒu Ä‘á»“ vi pháº¡m theo thá»i gian
- **Quáº£n lÃ½ ngÆ°á»i dÃ¹ng**: Duyá»‡t tÃ i khoáº£n má»›i, phÃ¢n quyá»n

#### 2. Quáº£n LÃ½ Vi Pháº¡m
**BÆ°á»›c 1**: Chá»n loáº¡i Ä‘á»‘i tÆ°á»£ng
- **Vi pháº¡m cÃ¡ nhÃ¢n**: Chá»n há»c sinh cá»¥ thá»ƒ
- **Vi pháº¡m táº­p thá»ƒ**: Chá»n cáº£ lá»›p

**BÆ°á»›c 2**: Nháº­p thÃ´ng tin
- **Nháº­p thá»§ cÃ´ng**: Äiá»n form chi tiáº¿t
- **DÃ¹ng AI há»— trá»£**: Paste danh sÃ¡ch thÃ´, AI sáº½ parse tá»± Ä‘á»™ng

**BÆ°á»›c 3**: Upload báº±ng chá»©ng
- **KÃ©o tháº£ file**: Há»— trá»£ nhiá»u áº£nh/video
- **Tá»± Ä‘á»™ng nÃ©n**: áº¢nh >1MB sáº½ Ä‘Æ°á»£c nÃ©n
- **Xem trÆ°á»›c**: Kiá»ƒm tra trÆ°á»›c khi gá»­i

**BÆ°á»›c 4**: XÃ¡c nháº­n vÃ  lÆ°u
- **Kiá»ƒm tra láº¡i**: Xem tá»•ng quan trÆ°á»›c khi lÆ°u
- **LÆ°u vi pháº¡m**: Há»‡ thá»‘ng tá»± tÃ­nh Ä‘iá»ƒm trá»«

#### 3. Xuáº¥t BÃ¡o CÃ¡o
**Tuáº§n**:
1. Chá»n tuáº§n cáº§n xuáº¥t
2. Click "Xuáº¥t Excel"
3. File sáº½ táº£i vá» vá»›i tÃªn: `vi-pham-tuan-X-ngay-thang-nam.xlsx`

**ThÃ¡ng**:
1. Chá»n thÃ¡ng cáº§n xuáº¥t
2. Click "Xuáº¥t Excel"
3. File sáº½ táº£i vá» vá»›i tÃªn: `vi-pham-thang-MM-yyyy.xlsx`

**TÃ¹y chá»‰nh**:
1. Chá»n khoáº£ng ngÃ y báº¯t Ä‘áº§u - káº¿t thÃºc
2. CÃ³ thá»ƒ lá»c thÃªm theo khá»‘i, lá»›p
3. Click "Xuáº¥t Excel"

#### 4. Quáº£n LÃ½ Danh SÃ¡ch
**Import há»c sinh**:
1. Click "Táº£i template Excel"
2. Äiá»n danh sÃ¡ch theo máº«u
3. Upload file Excel
4. Há»‡ thá»‘ng tá»± Ä‘á»™ng import

**Xem danh sÃ¡ch lá»›p**:
- Click vÃ o tá»«ng lá»›p Ä‘á»ƒ xem chi tiáº¿t
- TÃ¬m kiáº¿m há»c sinh theo tÃªn
- Export danh sÃ¡ch náº¿u cáº§n

### II. CHO QUáº¢N LÃ KHá»I

#### 1. Theo DÃµi Khá»‘i
- **Xem vi pháº¡m khá»‘i mÃ¬nh quáº£n lÃ½**
- **Thá»‘ng kÃª theo lá»›p**: Biáº¿t lá»›p nÃ o vi pháº¡m nhiá»u
- **Theo dÃµi xu hÆ°á»›ng**: Vi pháº¡m tÄƒng hay giáº£m

#### 2. Ghi Nháº­n Vi Pháº¡m
- **Quyá»n ghi nháº­n**: Chá»‰ cho khá»‘i mÃ¬nh quáº£n lÃ½
- **CÃ¹ng quy trÃ¬nh**: Giá»‘ng Admin nhÆ°ng giá»›i háº¡n pháº¡m vi
- **KhÃ´ng thá»ƒ xÃ³a**: Chá»‰ Admin má»›i cÃ³ quyá»n xÃ³a

### III. TRANG CÃ”NG KHAI (KhÃ´ng Cáº§n ÄÄƒng Nháº­p)

#### 1. Báº£ng Äiá»ƒm Thi Äua
**URL**: `/bang-diem-thi-dua-tho`
- **Xem theo tuáº§n**: Máº·c Ä‘á»‹nh tuáº§n hiá»‡n táº¡i
- **Chá»n tuáº§n khÃ¡c**: Tá»« dropdown hoáº·c date picker
- **Xáº¿p háº¡ng**: Tá»± Ä‘á»™ng sáº¯p xáº¿p tá»« cao xuá»‘ng tháº¥p

#### 2. BÃ¡o CÃ¡o Vi Pháº¡m
**URL**: `/bang-bao-cao-vi-pham`
- **Xem theo tuáº§n**: Máº·c Ä‘á»‹nh theo tuáº§n hiá»‡n táº¡i
- **Click xem chi tiáº¿t**: Xem ná»™i dung vi pháº¡m
- **Xem báº±ng chá»©ng**: Click vÃ o icon Ä‘á»ƒ xem áº£nh

#### 3. Xin PhÃ©p Nghá»‰ Há»c
**URL**: `/xin-phep`
- **Form Ä‘Æ¡n giáº£n**: Há» tÃªn, lá»›p, lÃ½ do, ngÃ y nghá»‰
- **Upload file Ä‘Ã­nh kÃ¨m**: Giáº¥y khÃ¡m bá»‡nh, etc.
- **Gá»­i yÃªu cáº§u**

## ğŸ› ï¸ CÃ i Äáº·t VÃ  Triá»ƒn Khai

### YÃªu Cáº§u Há»‡ Thá»‘ng
- **Node.js**: PhiÃªn báº£n 19 trá»Ÿ lÃªn
- **Git**: Äá»ƒ clone repository
- **TÃ i khoáº£n**: Convex, Vercel, Cloudflare R2

### CÃ i Äáº·t Local (Development)

```bash
# 1. Clone repository
git clone https://github.com/ducanhmai521/CSDLCoDo2BT
cd CSDLCoDo2BT

# 2. CÃ i dependencies
npm install

# 3. Khá»Ÿi táº¡o Convex
npx convex dev

# 4. Cháº¡y project (má»Ÿ 2 terminal)
npm run dev:frontend  # Terminal 1 - Frontend
npm run dev:backend # Terminal 2 - Backend
```

### Triá»ƒn Khai Production

#### 1. Chuáº©n Bá»‹
- **Convex**: Táº¡o project production, láº¥y deployment key
- **Vercel**: Import tá»« GitHub, cáº¥u hÃ¬nh environment variables
- **Cloudflare R2**: Táº¡o bucket, API token

#### 2. Environment Variables
Cáº§n cáº¥u hÃ¬nh Ä‘áº§y Ä‘á»§ cÃ¡c biáº¿n:
```
# JWT & Auth
JWT_PRIVATE_KEY=your_jwt_private_key
JWKS=your_jwks_json

# Groq AI
GROQ_API_KEY=your_groq_api_key

# Cloudflare R2
R2_ACCOUNT_ID=your_r2_account_id
R2_ACCESS_KEY_ID=your_r2_access_key
R2_SECRET_ACCESS_KEY=your_r2_secret_key
R2_BUCKET_NAME=your_bucket_name
R2_PUBLIC_URL=your_r2_public_url

# Deployment
VITE_CONVEX_URL=your_convex_deployment_url
CONVEX_DEPLOYMENT_KEY=your_convex_deploy_key
```

#### 3. GitHub Actions (TÃ¹y Chá»n)
- **Tá»± Ä‘á»™ng deploy**: Khi push code lÃªn GitHub
- **Cáº¥u hÃ¬nh**: ThÃªm `CONVEX_DEPLOY_KEY` vÃ o GitHub Secrets

## ğŸ“ Cáº¥u TrÃºc Dá»± Ãn

```
CSDLCoDo2BT/
â”œâ”€â”€ convex/                 # Backend logic
â”‚   â”œâ”€â”€ violations.ts       # Logic vi pháº¡m
â”‚   â”œâ”€â”€ users.ts           # Quáº£n lÃ½ ngÆ°á»i dÃ¹ng
â”‚   â”œâ”€â”€ ai.ts              # AI integration
â”‚   â”œâ”€â”€ r2.ts              # Cloudflare R2
â”‚   â””â”€â”€ excelExport.ts     # Xuáº¥t Excel
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ components/        # UI components
â”‚   â”œâ”€â”€ public/            # Trang cÃ´ng khai
â”‚   â”œâ”€â”€ AdminDashboard.tsx # Dashboard Admin
â”‚   â”œâ”€â”€ ViolationReportForm.tsx # Form bÃ¡o cÃ¡o
â”‚   â””â”€â”€ AIViolationInputModal.tsx # AI helper
â””â”€â”€ README.md
```

## ğŸ”§ TÃ¹y Chá»‰nh Cho TrÆ°á»ng Cá»§a Báº¡n

### 1. Äá»•i TÃªn TrÆ°á»ng
- **File**: `index.html` - thay Ä‘á»•i `<title>`
- **File**: `src/App.tsx` - thay Ä‘á»•i tÃªn trong header vÃ  footer
- **File**: `src/public/*.tsx` - thay Ä‘á»•i tiÃªu Ä‘á» cÃ¡c báº£ng cÃ´ng khai

### 2. Äá»•i Logo
- **Icon**: Thay tháº¿ `icon.ico` vÃ  `favicon.ico`
- **Logo header**: Äá»•i URL trong `src/App.tsx`
- **Logo public**: Äá»•i trong cÃ¡c file `src/public/*.tsx`

### 3. Äiá»u Chá»‰nh Danh Má»¥c Vi Pháº¡m
- **File**: `convex/violationPoints.ts`
- **Cáº¥u trÃºc**: Categories â†’ Violations â†’ Äiá»ƒm trá»«
- **TÃ¹y chá»‰nh**: ThÃªm, sá»­a, xÃ³a theo quy Ä‘á»‹nh trÆ°á»ng báº¡n

### 4. Sá»‘ LÆ°á»£ng Lá»›p
- **Máº·c Ä‘á»‹nh**: 24 lá»›p (10A1 â†’ 12A8)
- **Thay Ä‘á»•i**: Cáº§n sá»­a nhiá»u file, xem lÆ°u Ã½ bÃªn dÆ°á»›i

## âš ï¸ LÆ°u Ã Quan Trá»ng

### 1. Giá»›i Háº¡n Thiáº¿t Káº¿
- **Sá»‘ lá»›p**: Code Ä‘Æ°á»£c thiáº¿t káº¿ cho 24 lá»›p cá»‘ Ä‘á»‹nh
- **TÃªn lá»›p**: Theo format 10A1, 11A2, 12A8...
- **Náº¿u khÃ¡c**: Cáº§n chá»‰nh sá»­a nhiá»u file, khÃ´ng khuyáº¿n khÃ­ch cho ngÆ°á»i khÃ´ng chuyÃªn

### 2. Báº£o Máº­t
- **JWT Keys**: Tá»± táº¡o cáº·p khÃ³a RSA, Ä‘áº£m báº£o an toÃ n
- **API Keys**: KhÃ´ng commit lÃªn GitHub
- **File upload**: CÃ³ giá»›i háº¡n kÃ­ch thÆ°á»›c, tá»± Ä‘á»™ng nÃ©n

### 3. Performance
- **Real-time**: Dá»¯ liá»‡u cáº­p nháº­t ngay láº­p tá»©c
- **Caching**: Tá»± Ä‘á»™ng cache Ä‘á»ƒ tá»‘i Æ°u
- **Lazy loading**: Chá»‰ load data khi cáº§n

## ğŸ¤ ÄÃ³ng GÃ³p

ChÃºng tÃ´i welcome má»i Ä‘Ã³ng gÃ³p! Náº¿u báº¡n:
- **PhÃ¡t hiá»‡n lá»—i**: Táº¡o issue trÃªn GitHub
- **Muá»‘n thÃªm tÃ­nh nÄƒng**: Fork vÃ  táº¡o pull request

## ğŸ“„ License

Project nÃ y Ä‘Æ°á»£c license theo GPL-3.0.